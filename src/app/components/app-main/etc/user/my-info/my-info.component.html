<div class="flex flex-row my-info-container">
  <p-progressSpinner class="w-4rem h-4rem" strokeWidth="4" *ngIf="loading" />
  <p-accordion class="flex-auto" [multiple]="true" [activeIndex]="[0]">
    <p-accordionTab class="flex flex-column" header="{{'my-info.accordion-header.detail' | translate}}" *ngIf="userDataModel?.id != undefined">
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.id' | translate}}</label>
        <label class="col-6">{{userDataModel?.id}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.name' | translate}}</label>
        <label class="col-6">{{userDataModel?.name}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.mail' | translate}}</label>
        <label class="col-6">{{userDataModel?.mail}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.phoneNumber' | translate}}</label>
        <label class="col-6">{{userDataModel?.phoneNumber}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.role' | translate}}</label>
        <label class="col-6">{{flagToRoleDesc(userDataModel?.role)}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.dept' | translate}}</label>
        <label class="col-6">{{flagToDeptDesc(userDataModel?.dept)}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.status' | translate}}</label>
        <p-tag class="col-6" [value]="statusToUserStatusDesc(userDataModel?.status)" [severity]="getSeverity(userDataModel?.status)"/>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.regDate' | translate}}</label>
        <label class="col-6">{{dateToYearFullString(stringToDate(userDataModel?.regDate))}}</label>
      </div>
      <div class="flex">
        <label class="col-6 mr-1">{{'my-info.detail.lastLoginDate' | translate}}</label>
        <label class="col-6">{{dateToYearFullString(stringToDate(userDataModel?.lastLoginDate))}}</label>
      </div>
    </p-accordionTab>
    <p-accordionTab class="flex-auto" header="{{'my-info.accordion-header.child' | translate}}" *ngIf="userDataModel?.children?.length ?? 0 > 0">
      <p-table [value]="userDataModel?.children ?? []" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10, 20, 50]"
               [tableStyle]="{'min-width': '25rem'}" styleClass="p-datatable-gridlines p-datatable-sm p-datatable-striped">
        <ng-template pTemplate="header">
          <tr>
            <th>{{'my-info.child.id' | translate}}</th>
            <th>{{'my-info.child.name' | translate}}</th>
            <th>{{'my-info.child.phoneNumber' | translate}}</th>
            <th>{{'my-info.child.status' | translate}}</th>
            <th>{{'my-info.child.companyName' | translate}}</th>
            <th>{{'my-info.child.taxPayerImage' | translate}}</th>
            <th>{{'my-info.child.bankAccountImage' | translate}}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-child>
          <tr>
            <td>{{child?.id}}</td>
            <td>{{child?.name}}</td>
            <td>{{child?.phoneNumber}}</td>
            <td>
              <p-tag [value]="statusToUserStatusDesc(child?.status)" [severity]="getSeverity(child?.status)"/>
            </td>
            <td>{{child?.companyName}}</td>
            <td>
              <p-button [disabled]="child?.taxpayerImageUrl?.length ?? 0 <= 0">{{'common-desc.open' | translate}}</p-button>
            </td>
            <td>
              <p-button [disabled]="child?.bankAccountImageUrl?.length ?? 0 <= 0">{{'common-desc.open' | translate}}</p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-accordionTab>
  </p-accordion>
</div>
